<html>
    <head>
        <meta charset="utf-8">
        <title>Hello React</title>
        <script src="lib/tiretbas-natives.js"></script>

        <script defer src="lib/react.js"></script>
        <!-- script defer src="lib/JSXTransformer.js"></script -->
        <script defer src="lib/jquery.js"></script>

        <script>
            document._once('DOMContentLoaded', function(e){
                var Comment = React.createClass({
                    render: function() {
                        return (
                            React.DOM.div({
                                className: "comment",
                                children:[
                                    React.DOM.h2({
                                        className: "commentAuthor",
                                        children: this.props.author
                                    }),
                                    this.props.children
                                ]
                            })
                        );
                    }
                });



                var CommentList = React.createClass({
                    render: function() {
                        return (
                            React.DOM.div({
                                className: "commentList",
                                children: this.props.data.map(function(comment){
                                    return Comment({
                                        author: comment.author,
                                        children: comment.text
                                    });
                                })
                            })
                        );
                    }
                });

                var CommentForm = React.createClass({
                    render: function() {
                        return (
                            React.DOM.div({
                                className:"commentForm",
                                children: React.DOM.textarea()
                            })
                        );
                    }
                });


                var CommentBox = React.createClass({
                    render: function() {
                        return (
                            React.DOM.div({
                                className: 'commentBox',
                                children: [
                                    React.DOM.h1({children: 'Comments'}),
                                    CommentList(this.props),
                                    CommentForm()
                                ]
                            })
                        );
                    }
                });

                var data = [
                    {author: "Pete Hunt", text: "This is one comment"},
                    {author: "Jordan Walke", text: "This is *another* comment"},
                    {author: "David Bruant", text: "Whaddup bitches!"}
                ];

                React.renderComponent(
                    CommentBox({data: data}),
                    document.getElementById('content')
                );
            });
        </script>
    </head>
    <body>
        <div id="content"></div>
    </body>
</html>